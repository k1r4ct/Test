<div class="container-fluid w-full">
  <div class="row justify-content-start">
    <div
      class="col-12 col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 m-1 card"
      id="tableLead"
    >
      <div class="card-header">
        <h1 class="text-uppercase">
          <span *ngIf="ruoloUtente == 'Cliente'">Amici</span>
          <span *ngIf="ruoloUtente != 'Cliente'">Leads</span>
          PERSONALI INVITATI
        </h1>
        <br />
        <p-multiSelect
          [options]="Leads"
          [(ngModel)]="leadsSelected"
          optionLabel="nominativoLead"
          display="chip"
          placeholder="Seleziona Lead"
          appendTo="body"
          (onChange)="applyFilter()"
          class="m-2"
        />

        <p-multiSelect
          [options]="statiUnivoci"
          [(ngModel)]="statusSelected"
          optionLabel="label"
          display="chip"
          placeholder="Seleziona Stato"
          appendTo="body"
          (onChange)="applyFilter()"
          class="m-2"
        />

        <p-multiSelect
          *ngIf="ruoloUtente != 'Cliente'"
          [options]="seuUnivoci"
          [(ngModel)]="seuSelected"
          optionLabel="nome"
          display="chip"
          placeholder="Seleziona Seu"
          appendTo="body"
          (onChange)="applyFilter()"
          class="m-2"
        />

        <p-datepicker
          [(ngModel)]="DTRGinseritoil"
          [iconDisplay]="'input'"
          [showIcon]="true"
          inputId="icondisplay"
          appendTo="body"
          dateFormat="dd/mm/yy"
          (onSelect)="applyFilter()"
          selectionMode="range"
          class="m-2"
        />

        <p-button label="Cancella" (onClick)="clearFilter()" />
      </div>
      <div class="lead-container table-responsive">
        <table
          mat-table
          [dataSource]="dataSource"
          class="mat-elevation-z8 card-body"
        >
          <ng-container matColumnDef="nominativo">
            <th mat-header-cell *matHeaderCellDef style="width: 9%">
              Nominativo
            </th>
            <td mat-cell *matCellDef="let lead">{{ lead.nominativoLead }}</td>
          </ng-container>

          <ng-container matColumnDef="email">
            <th mat-header-cell *matHeaderCellDef style="width: 9%">Email</th>
            <td mat-cell *matCellDef="let lead">
              <a href="mailto:{{ lead.email }}">{{ lead.email }}</a>
            </td>
          </ng-container>

          <ng-container matColumnDef="telefono">
            <th mat-header-cell *matHeaderCellDef style="width: 5%">
              Telefono
            </th>
            <td mat-cell *matCellDef="let lead">
              <a href="tel:{{ lead.telefono }}">{{ lead.telefono }}</a>
            </td>
          </ng-container>

          <ng-container matColumnDef="inserito">
            <th mat-header-cell *matHeaderCellDef style="width: 9%">
              Inserito
            </th>
            <td mat-cell *matCellDef="let lead">{{ lead.inserito }}</td>
          </ng-container>

          <ng-container matColumnDef="assegnato_a">
            <th mat-header-cell *matHeaderCellDef style="width: 9%">
              Assegnato a
            </th>
            <td mat-cell *matCellDef="let lead">{{ lead.assegnato_a }}</td>
          </ng-container>

          <ng-container matColumnDef="microstato">
            <th mat-header-cell *matHeaderCellDef style="width: 7%">Stato</th>
            <td mat-cell *matCellDef="let lead">{{ lead.microstato }}</td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr
            mat-row
            *matRowDef="let row; columns: displayedColumns"
            [appLeadRowColor]="row"
          ></tr>
        </table>
        <hr />
        <mat-paginator
          #paginator
          class="w-100 text-center"
          [pageSizeOptions]="[5, 10, 20]"
          showFirstLastButtons
        ></mat-paginator>
      </div>
    </div>
  </div>
</div>
